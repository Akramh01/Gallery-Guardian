<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Gallery Guardian</title>
    <link rel="stylesheet" type="text/css" href="style_login/menu.css">
    <link rel="stylesheet" type="text/css" href="style_login/login.css">
    <script src="script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <label class="navbar">
        <input type="checkbox" class="toggler">
        <div class="toggle">
            <span class="top_line common"></span>
            <span class="middle_line common"></span>
            <span class="bottom_line common"></span>
        </div>
        <div class="slide">
            <h1>MENU</h1>
            <ul>
                <li><a href='#'><i class="fas fa-user"></i> Profile </a></li>
                <li><a href='#'><i class="far fa-address-book"></i> Télécommande </a></li>
                <li><a href='#'><i class="fas fa-tv"></i> Oeuvre D'art </a></li>
                <li><a href='#'><i class="fas fa-comments"></i> Events </a></li>
            </ul>
        </div>
    </label>
    <div class="container">
        <form method="POST" action="php_script_login/login.php" id="myForm">
            <label for="identifiant">Identifiant:</label>
            <input type="text" id="identifiant" name="id"><br><br>
            <label for="password">Mot de passe:</label>
            <input type="password" id="password" name="password"><br><br>
            <button type="submit" name="login">Se connecter</button>
            <div id="error"></div>
            <a href="forgot_password.html"><i>Mot de pass oublié ?</i></a>
            <a href="first_login.html"><i>Créer un compte</i></a>
        </form>
        
    </div>
    <script>
      window.onload = function() {
          const urlParams = new URLSearchParams(window.location.search);
          const error = urlParams.get('error');
          if (error) {
              const errorDiv = document.getElementById('error');
              errorDiv.textContent = error;
              errorDiv.style.color = 'red';
          }
      }

      let myForm = document.getElementById('myForm');

        myForm.addEventListener('submit', function(e) {
            let id = document.getElementById('identifiant');
            let password = document.getElementById('password');

            if(id.value.trim() == '') {
                id.placeholder = 'Veuillez entrer votre identifiant';
                id.style.borderColor = 'red';
                id.style.color = 'red';
                e.preventDefault();
                let label = document.querySelector(`label[for="${id.id}"]`);
                if (label) {
                    label.style.color = 'red';
                }
            e.preventDefault();
            }else if(password.value.trim() == '') {
                password.placeholder = 'Veuillez entrer votre mot de passe';
                password.style.borderColor = 'red';
                e.preventDefault();
                let label = document.querySelector(`label[for="${password.id}"]`);
                if (label) {
                    label.style.color = 'red';
                }
            }
        })
    </script>
</body>
</html>
